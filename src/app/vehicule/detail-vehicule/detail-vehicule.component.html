

<section class="content-header">
    <div class="container-fluid">
      <div class="row mb-2">
        <div class="col-sm-6">
          <h1>Detail vehicules</h1>
        </div>
        <div class="col-sm-6">
          <ol class="breadcrumb float-sm-right">
            <li class="breadcrumb-item"><a [routerLink]="'/'">Dashbord</a></li>
            <li class="breadcrumb-item active">Details vehicules</li>
          </ol>
        </div>
      </div>
    </div>
    <!-- /.container-fluid -->
  </section>

<!-- Main content -->
<section class="content">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-4">
  
          <!-- Profile Image -->
          <div class="card card-primary card-outline">
            <div class="card-body box-profile" >
             
                
                  <div class="text-center">
                    <img class=" img-fluid "
                         src="assets/img/pajero.jpg"
                         alt="User profile picture">
                  </div>
      
                 <h3 class="profile-username text-center">Nom vehicule: {{currentVehicule?.libelleVehicule}}</h3>
                 <p class="text-center">Marque:  {{currentVehicule?.marque}} 
      
                
                
                
            </div>
            <!-- /.card-body -->
          </div>
          <!-- /.card -->
  
         
        </div>
        <!-- /.col -->
        <div class="col-md-8">
         
          <div class="card card-primary card-outline">
            <div class="card-body box-profile" >
           
                  <ul class="list-group list-group-unbordered mb-3">
                    <li class="list-group-item">
                      <b>Type carburant</b> <a class="float-right">{{currentVehicule?.carburant}}</a>
                    </li>
                    <li class="list-group-item">
                      <b>numero Identifiant</b> <a class="float-right">{{currentVehicule?.numeroIdentifiant}}</a>
          
                    </li>
                    <li class="list-group-item">
                      <b>immatriculation</b> <a class="float-right">{{currentVehicule?.immatriculation}}</a>
                    </li>
                    <li class="list-group-item">
                      <b>date Mise Circulation</b> <a class="float-right">{{currentVehicule?.dateMiseCirculation}}</a>
                    </li><li class="list-group-item">
                      <b>carte Grise</b> <a class="float-right">{{currentVehicule?.carteGrise}}</a>
                    </li><li class="list-group-item">
                      <b>nombre de Places</b> <a class="float-right">{{currentVehicule?.nombrePlace}}</a>
                    </li>
                  </ul>
      
                
              
            
             
              <!-- <a href="#" class="btn btn-primary btn-block"><b>Follow</b></a> -->
            </div>
            <!-- /.card-body -->
          </div>
          
          
        </div>
        <!-- /.col -->
      </div>
      <!-- /.row -->
    </div><!-- /.container-fluid -->
  </section>
  <!-- /.content -->

  <!-- Main content -->
<section class="content">
  <div class="container-fluid">
    <div class="row">
      

        

       
      <!-- /.col -->
      <div class="col-md-12 col-sm-6">
        <div class="card">
          <div class="card-header p-2">
            <ul class="nav nav-pills">
              <li class="nav-item"><a class="nav-link active" href="#panne" data-toggle="tab">Pannes</a></li>
              <li class="nav-item"><a class="nav-link" href="#entretiens" data-toggle="tab">Entretiens</a></li>
              <li class="nav-item"><a class="nav-link" href="#assurances" data-toggle="tab">Assurances</a></li>
            </ul>
          </div><!-- /.card-header -->
          <div class="card-body">
            <div class="tab-content">
             
              <!-- /.tab-pane -->
              <div class="active tab-pane" id="panne">
                <div class="card-body p-0">
                  <table class="table table-striped projects">
                      <thead>
                          <tr>
                              <th style="width: 1%">
                                  #
                              </th>
                              <th style="width: 20%">
                                  Nom Panne
                              </th>
                              <th style="width: 30%">
                                 Description
                              </th>
                              <th>
                                 Date debut panne
                              </th>
                              <th style="width: 30%" class="text-center">
                                Date fin panne
                              </th>
                              
                          </tr>
                      </thead>
                      <tbody>
                        <ng-container *ngIf="vehicules">
                          <tr *ngFor="let p of currentVehicule?.appends?.panneVehicule; let i=index">
                            <td>
                                {{i+1}}
                            </td>
                            <td>
                              {{p.libellePanne}}
                                
                            </td>
                            <td>

                            {{ p.descriptionPanne}}
                               
                            </td>
                            <td >
                              {{ p.dateDebutPanne}}
                            </td>
                            <td >
                               {{ p.dateFinPanne}}
                            </td>
                           
                        </tr>
                         </ng-container> 
                         
                         
                         
                         
                          <ng-container *ngIf="!currentVehicule?.appends?.panneVehicule.length">
                            <tr>
                              <td colspan="5" class="text-center">
                                Aucune données trouver
                              </td>
                            </tr>
                          </ng-container>
                          
                          
                      </tbody>
                  </table>
                </div>
                <!-- /.card-body -->
              </div>
              <!-- /.tab-pane -->

              <div class="tab-pane" id="entretiens">
                <div class="card-body p-0">
                  <table class="table table-striped projects">
                      <thead>
                          <tr>
                              <th style="width: 1%">
                                  #
                              </th>
                              <th style="width: 20%">
                                  Date Entretien
                              </th>
                              <th style="width: 30%">
                                  Date Prochaine 
                              </th>
                              <th>
                                 KM Parcourus
                              </th>
                              <th style="width: 30%" class="text-center">
                                  Prochain KM
                              </th>
                             
                          </tr>
                      </thead>
                      <tbody>
                        <!-- <ng-container *ngIf="vehicules"> -->
                          <tr *ngFor="let m of currentVehicule?.appends?.maintenanceVehicule; let i=index">
                            <td>
                                {{i+1}}
                            </td>
                            <td>
                               {{m.dateEntretien}} 
                                
                            </td>
                            <td>

                              {{ m.nextDateEntretien}}
                            </td>
                            <td >
                             {{  m.kilometrageEntretien}}
                            </td>
                            <td class="project-state">
                              {{ m.kilometrageNextEntretien}}
                            </td>
                            
                        </tr>
                        
                         
                        
                         
                         
                          <ng-container *ngIf="!currentVehicule?.appends?.maintenanceVehicule.length">
                            <tr>
                              <td colspan="5" class="text-center">
                                Aucune données trouver
                              </td>
                            </tr>
                          </ng-container>
                          
                          
                      </tbody>
                  </table>
                </div>
                <!-- /.card-body -->
              </div>
              <!-- /.tab-pane -->

              <div class="tab-pane" id="assurances">
                <div class="card-body p-0">
                  <table class="table table-striped projects">
                      <thead>
                          <tr>
                              <th style="width: 1%">
                                  #
                              </th>
                              <th style="width: 20%">
                                  Date Debut 
                              </th>
                              <th style="width: 30%">
                                  Date Fin
                              </th>
                             
                              <th style="width: 30%" class="text-center">
                                  Numero d'assurance
                              </th>
                              <th style="width: 30%">
                                Fichier
                              </th>
                          </tr>
                      </thead>
                      <tbody>
                        <!-- <ng-container *ngIf="vehicules"> -->
                          <tr *ngFor="let v of currentVehicule?.appends?.assurances ;let i=index">
                            <td>
                                {{i+1}}
                            </td>
                            <td>
                             
                              {{v.dateDebutAssurance}}
                                
                            </td>
                            <td>
                             
                             
                              {{v.dateFinAssurance}}
                                
                            </td>
                            <td>
                              
                               {{v.numeroPoliceAssurance}} 
                            </td>
                            <td>

                             <ng-container *ngIf="v.scanAssurance; else templImage">
                                            
                                <img [src]="v.scanAssurance"  class=" img-fluid thumbnail">  
                              </ng-container>
                               <ng-template #templImage>

                               </ng-template>  
                               
                            </td>
                           
                            
                            
                               
                        </tr>
                        <!-- </ng-container> -->
                         
                         
                         
                         
                          <ng-container *ngIf="!currentVehicule?.appends?.assurances.length">
                            <tr>
                              <td colspan="9" class="text-center">
                                Aucune données trouver
                              </td>
                            </tr>
                          </ng-container>
                          
                          
                      </tbody>
                  </table>
                </div>
                <!-- /.card-body -->
              </div>
              <!-- /.tab-pane -->
            </div>
            <!-- /.tab-content -->
          </div><!-- /.card-body -->
        </div>
        <!-- /.card -->
      </div>
      <!-- /.col -->
    </div>
    <!-- /.row -->
  </div><!-- /.container-fluid -->
</section>
<!-- /.content -->

 
